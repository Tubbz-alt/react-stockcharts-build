{"version":3,"sources":["../../../src/lib/coordinates/MouseCoordinateY.js"],"names":["MouseCoordinateY","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","customY","yScale","chartConfig","currentItem","mouseXY","snapY","yAccessor","y","displayFormat","coordinate","invert","propTypes","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","dx","fill","string","opacity","fontFamily","fontSize","textFill","defaultProps","arrowWidth","strokeOpacity","strokeWidth","chartId","width","show","currentCharts","indexOf","stroke","x1","x2","edgeAt","type","hideLine","coordinateProps","y1","y2"],"mappings":"AAAA;;;;;;;;AAEA;;;;AACA;;;;AAEA;;AACA;;;;AACA;;AAEA;;;;;;;;;;IAEMA,gB;;;AACL,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACZA,KADY;;AAElB,QAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,OAAjB;AACA,QAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,OAApB;AAHkB;AAIlB;;;;+BACYE,G,EAAKC,S,EAAW;AAC5B,OAAML,QAAQM,OAAO,KAAKN,KAAZ,EAAmBK,SAAnB,CAAd;AACA,OAAI,yBAAaL,KAAb,CAAJ,EAAyB,OAAO,IAAP;;AAEzB,sCAAaI,GAAb,EAAkBJ,KAAlB;AACA;;;4BACSK,S,EAAW;AACpB,OAAML,QAAQM,OAAO,KAAKN,KAAZ,EAAmBK,SAAnB,CAAd;AACA,OAAI,yBAAaL,KAAb,CAAJ,EAAyB,OAAO,IAAP;;AAEzB,UAAO,gCAAUA,KAAV,CAAP;AACA;;;2BACQ;AACR,UAAO;AACN,UAAM,KADA;AAEN,aAAS,KAAKC,SAFR;AAGN,gBAAY,KAAKE,YAHX;AAIN,kDAJM;AAKN,YAAQ,CAAC,WAAD,EAAc,KAAd,EAAqB,MAArB;AALF,KAAP;AAOA;;;;;;AAGF,SAASI,OAAT,CAAiBP,KAAjB,EAAwBK,SAAxB,EAAmC;AAAA,KACXG,MADW,GACwBH,SADxB,CAC1BI,WAD0B,CACXD,MADW;AAAA,KACDE,WADC,GACwBL,SADxB,CACDK,WADC;AAAA,KACYC,OADZ,GACwBN,SADxB,CACYM,OADZ;AAAA,KAE1BC,KAF0B,GAELZ,KAFK,CAE1BY,KAF0B;AAAA,KAEnBC,SAFmB,GAELb,KAFK,CAEnBa,SAFmB;;AAGlC,KAAMC,IAAIF,QACPJ,OAAOK,UAAUH,WAAV,CAAP,CADO,GAEPC,QAAQ,CAAR,CAFH;;AAIA;AAPkC,KAQ1BI,aAR0B,GAQRf,KARQ,CAQ1Be,aAR0B;;AASlC,KAAMC,aAAaJ,QAChBG,cAAcF,UAAUH,WAAV,CAAd,CADgB,GAEhBK,cAAcP,OAAOS,MAAP,CAAcH,CAAd,CAAd,CAFH;AAGA,QAAO,EAAEA,IAAF,EAAKE,sBAAL,EAAP;AACA;;AAEDjB,iBAAiBmB,SAAjB,GAA6B;AAC5BH,gBAAe,oBAAUI,IAAV,CAAeC,UADF;AAE5BC,WAAU,oBAAUC,MAFQ;AAG5BC,YAAW,oBAAUD,MAHO;AAI5BE,aAAY,oBAAUF,MAJM;AAK5BG,SAAQ,oBAAUC,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CALoB;AAM5BC,KAAI,oBAAUD,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CANwB;AAO5BE,KAAI,oBAAUN,MAPc;AAQ5BO,OAAM,oBAAUC,MARY;AAS5BC,UAAS,oBAAUT,MATS;AAU5BU,aAAY,oBAAUF,MAVM;AAW5BG,WAAU,oBAAUX,MAXQ;AAY5BY,WAAU,oBAAUJ;AAZQ,CAA7B;;AAeA/B,iBAAiBoC,YAAjB,GAAgC;AAC/Bd,WAAU,CADqB;AAE/BE,YAAW,EAFoB;AAG/BC,aAAY,EAHmB;AAI/BC,SAAQ,MAJuB;AAK/BE,KAAI,MAL2B;AAM/BC,KAAI,CAN2B;AAO/BQ,aAAY,EAPmB;AAQ/BP,OAAM,SARyB;AAS/BE,UAAS,CATsB;AAU/BC,aAAY,8CAVmB;AAW/BC,WAAU,EAXqB;AAY/BC,WAAU,SAZqB;;AAc/B;AACAG,gBAAe,CAfgB;AAgB/BC,cAAa,CAhBkB;AAiB7B1B,QAAO,KAjBsB;AAkB/BL,UAASA;AAlBsB,CAAhC;;AAqBA,SAASD,MAAT,CAAgBN,KAAhB,EAAuBK,SAAvB,EAAkC;AAAA,KACzBkC,OADyB,GACNlC,SADM,CACzBkC,OADyB;AAAA,KAChBC,KADgB,GACNnC,SADM,CAChBmC,KADgB;AAAA,KAEzBC,IAFyB,GAEiCpC,SAFjC,CAEzBoC,IAFyB;AAAA,KAEnBC,aAFmB,GAEiCrC,SAFjC,CAEnBqC,aAFmB;AAAA,KAEWlC,MAFX,GAEiCH,SAFjC,CAEJI,WAFI,CAEWD,MAFX;AAAA,KAEqBG,OAFrB,GAEiCN,SAFjC,CAEqBM,OAFrB;;;AAIjC,KAAI,yBAAaA,OAAb,CAAJ,EAA2B,OAAO,IAAP;;AAE3B,KAAI+B,cAAcC,OAAd,CAAsBJ,OAAtB,IAAiC,CAArC,EAAwC,OAAO,IAAP;;AANP,KAQzBd,MARyB,GAQgCzB,KARhC,CAQzByB,MARyB;AAAA,KAQjBE,EARiB,GAQgC3B,KARhC,CAQjB2B,EARiB;AAAA,KAQbJ,SARa,GAQgCvB,KARhC,CAQbuB,SARa;AAAA,KAQFC,UARE,GAQgCxB,KARhC,CAQFwB,UARE;AAAA,KAQUT,aARV,GAQgCf,KARhC,CAQUe,aARV;AAAA,KAQyBa,EARzB,GAQgC5B,KARhC,CAQyB4B,EARzB;AAAA,KASzBC,IATyB,GASqC7B,KATrC,CASzB6B,IATyB;AAAA,KASnBE,OATmB,GASqC/B,KATrC,CASnB+B,OATmB;AAAA,KASVC,UATU,GASqChC,KATrC,CASVgC,UATU;AAAA,KASEC,QATF,GASqCjC,KATrC,CASEiC,QATF;AAAA,KASYC,QATZ,GASqClC,KATrC,CASYkC,QATZ;AAAA,KASsBE,UATtB,GASqCpC,KATrC,CASsBoC,UATtB;AAAA,KAUzBQ,MAVyB,GAUc5C,KAVd,CAUzB4C,MAVyB;AAAA,KAUjBP,aAViB,GAUcrC,KAVd,CAUjBqC,aAViB;AAAA,KAUFC,WAVE,GAUctC,KAVd,CAUFsC,WAVE;AAAA,KAYzB/B,OAZyB,GAYbP,KAZa,CAYzBO,OAZyB;;AAAA,gBAgB5BA,QAAQP,KAAR,EAAeK,SAAf,CAhB4B;AAAA,KAchCS,CAdgC,YAchCA,CAdgC;AAAA,KAehCE,UAfgC,YAehCA,UAfgC;;AAkBjC,KAAM6B,KAAK,CAAX;AAAA,KAAcC,KAAKN,KAAnB;AACA,KAAMO,SAAUpB,OAAO,OAAR,GACZa,KADY,GAEZ,CAFH;;AAIA,KAAMQ,OAAO,YAAb;AACA,KAAMC,WAAW,IAAjB;;AAEA,KAAMC,kBAAkB;AACvBlC,wBADuB;AAEvByB,YAFuB;AAGvBO,YAHuB;AAIvBvB,gBAJuB;AAKvBsB,gBALuB;AAMvBE,oBANuB;AAOvBpB,YAPuB,EAOjBE,gBAPiB,EAORC,sBAPQ,EAOIC,kBAPJ,EAOcC,kBAPd;AAQvBU,gBARuB,EAQfP,4BARe,EAQAC,wBARA;AASvBf,sBATuB;AAUvBC,wBAVuB;AAWvBY,wBAXuB;AAYvBR,QAZuB;AAavBiB,QAbuB;AAcvBC,QAduB;AAevBK,MAAIrC,CAfmB;AAgBvBsC,MAAItC;AAhBmB,EAAxB;AAkBA,QAAOoC,eAAP;AACA;;kBAEcnD,gB","file":"MouseCoordinateY.js","sourcesContent":["\"use strict\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateY extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\n\t\t/>;\n\t}\n}\n\nfunction customY(props, moreProps) {\n\tconst { chartConfig: { yScale }, currentItem, mouseXY } = moreProps;\n\tconst { snapY, yAccessor } = props;\n\tconst y = snapY\n\t\t? yScale(yAccessor(currentItem))\n\t\t: mouseXY[1];\n\n\t//const { displayXAccessor } = moreProps;\n\tconst { displayFormat } = props;\n\tconst coordinate = snapY\n\t\t? displayFormat(yAccessor(currentItem))\n\t\t: displayFormat(yScale.invert(y));\n\treturn { y, coordinate };\n}\n\nMouseCoordinateY.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n\tyAxisPad: PropTypes.number,\n\trectWidth: PropTypes.number,\n\trectHeight: PropTypes.number,\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tdx: PropTypes.number,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\ttextFill: PropTypes.string,\n};\n\nMouseCoordinateY.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 50,\n\trectHeight: 20,\n\torient: \"left\",\n\tat: \"left\",\n\tdx: 0,\n\tarrowWidth: 10,\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\n\t// stroke: \"#684F1D\",\n\tstrokeOpacity: 1,\n\tstrokeWidth: 1,\n  \tsnapY: false,\n\tcustomY: customY,\n};\n\nfunction helper(props, moreProps) {\n\tconst { chartId, width } = moreProps;\n\tconst { show, currentCharts, chartConfig: { yScale }, mouseXY } = moreProps;\n\n\tif (isNotDefined(mouseXY)) return null;\n\n\tif (currentCharts.indexOf(chartId) < 0) return null;\n\n\tconst { orient, at, rectWidth, rectHeight, displayFormat, dx } = props;\n\tconst { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\n\tconst { stroke, strokeOpacity, strokeWidth } = props;\n\n\tconst { customY } = props;\n\tconst {\n\t\ty,\n\t\tcoordinate\n\t } = customY(props, moreProps);\n  \n\tconst x1 = 0, x2 = width;\n\tconst edgeAt = (at === \"right\")\n\t\t? width\n\t\t: 0;\n\n\tconst type = \"horizontal\";\n\tconst hideLine = true;\n\n\tconst coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\tstroke, strokeOpacity, strokeWidth,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth,\n\t\tdx,\n\t\tx1,\n\t\tx2,\n\t\ty1: y,\n\t\ty2: y,\n\t};\n\treturn coordinateProps;\n}\n\nexport default MouseCoordinateY;\n"]}